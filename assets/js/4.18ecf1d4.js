(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{154:function(t,a,e){"use strict";e.r(a);var s=e(0),n=Object(s.a)({},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[t._m(0),e("p",[t._v("This article I wrote after successfully present it at Facebook Developer Circles #2 at Jogja Digital Valley,August 15 2017. You can see it on "),e("a",{attrs:{href:"https://www.slideshare.net/RakaWestuMogandhi/modular-android-project",target:"_blank",rel:"noopener noreferrer"}},[t._v("this slide"),e("OutboundLink")],1),t._v(".")]),e("iframe",{staticStyle:{border:"1px solid #CCC","border-width":"1px","margin-bottom":"5px","max-width":"100%"},attrs:{src:"//www.slideshare.net/slideshow/embed_code/key/60ISAHsmLjdXQt",width:"595",height:"485",frameborder:"0",marginwidth:"0",marginheight:"0",scrolling:"no",allowfullscreen:""}}),e("p",[t._v("This is a concept of Android development which is good to be implemented when we have multiple teams.")]),e("p",[t._v("Do you have any idea how people develop Android application nowadays?")]),t._m(1),e("p",[t._v("Is that wrong? Not at all, that’s the right way to develop a single application.")]),e("p",[t._v("So what is this Modular Android Project concept stands for?")]),t._m(2),t._m(3),e("p",[t._v("Why is this concept could be a solution to your teams ?")]),t._m(4),t._m(5),e("p",[t._v("Have you heard of microservice concept?")]),t._m(6),e("p",[t._v("Do you think it can be implemented in Android project? Yes, of course. We can use Android module to apply it.")]),t._m(7),t._m(8),e("hr"),e("p",[t._v("So, how can we decompose an application project into several modules?")]),t._m(9),t._m(10),t._m(11),e("p",[t._v("On this part I will provide an example how to implement this modular concept on e-commerce application.")]),t._m(12),e("p",[t._v("Authentication module includes all user authentication related action. This module needs to have login, register, forgot password, etc.")]),e("p",[t._v("We can define some abstracted functions to be implemented on this module.")]),t._m(13),t._m(14),t._m(15),e("p",[t._v("Product module includes all product related action. In e-commerce application, user can see product catalog,product details, add it to favorites, see product favorites.")]),t._m(16),t._m(17),t._m(18),e("p",[t._v("Checkout module includes all buy action related action. Add items to the cart, manage shopping cart, start payment are included features.")]),t._m(19),t._m(20),t._m(21),e("p",[t._v("History module includes transaction history page which holds any transactions done by user.")]),t._m(22),t._m(23),e("p",[t._v("Analytics modules is only used to track event needed for internal analytics so there are only one function provided in this module.")]),t._m(24),t._m(25),e("p",[t._v("After working on each components of the application, we need to compose how each component communicate with each other in a single application module.")]),e("p",[t._v("Application module will be used as starting point of the application. It depends on any previously created modules. Here are the examples.")]),t._m(26),e("hr"),t._m(27),e("p",[t._v("There are some advantages and disadvantages when implementing this concept.")]),t._m(28),t._m(29),t._m(30),t._m(31)])},[function(){var t=this.$createElement,a=this._self._c||t;return a("h1",{attrs:{id:"modular-android-project"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#modular-android-project","aria-hidden":"true"}},[this._v("#")]),this._v(" Modular Android Project")])},function(){var t=this.$createElement,a=this._self._c||t;return a("ol",[a("li",[this._v("Create project in Android Studio")]),a("li",[this._v("Android Studio generate project and files needed for initial development. It also generate a module called "),a("strong",[this._v("app")]),this._v(".")]),a("li",[this._v("Development is only use this "),a("strong",[this._v("app")]),this._v(" module.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("It’s a concept of Android development workflow when we have "),a("strong",[this._v("multiple")]),this._v(" teams working on single application.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"background"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#background","aria-hidden":"true"}},[this._v("#")]),this._v(" Background")])},function(){var t=this.$createElement,a=this._self._c||t;return a("ul",[a("li",[this._v("Once your application codebase is big, it becomes hard to add or just update a feature. You need to edit many files in many packages.")]),a("li",[this._v("Working with multiple teams means you need to conform many implementation style. It’s just not possible to use many implementation styles in single application.")]),a("li",[this._v("When we want to adapt or just trying a new technology concept on specific feature set, we may need to refactor the entire application because the new technology is not applicable on current implementation.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"solution"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#solution","aria-hidden":"true"}},[this._v("#")]),this._v(" Solution")])},function(){var t=this.$createElement,a=this._self._c||t;return a("blockquote",[a("p",[a("strong",[this._v("Microservice is a particular way of designing software applications as suites of independently deployable services.")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("What is "),a("em",[this._v("Android module")]),this._v(" ? It’s a component of Android project. There are two types of Android module: "),a("em",[this._v("application")]),this._v(" and "),a("em",[this._v("library")]),this._v(".")])},function(){var t=this.$createElement,a=this._self._c||t;return a("ul",[a("li",[this._v("Application module can be deployed into APK which can be run on Android device or emulator.\nLibrary module cannot be deployed into APK, you need to implement it on application module so it can be deployed as part of the application.")]),a("li",[this._v("There are many examples of this library module. You may also have recognized it. There are Android support libraries, Firebase libraries, or third party libraries like Glide, RxJava, or Retrofit.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("There are many approach to do it. You need to consider your business needs and your teams. As far as I know we can decompose an application into several component based on +features_ or "),a("em",[this._v("functions")]),this._v(".")])},function(){var t=this.$createElement,a=this._self._c||t;return a("ul",[a("li",[this._v("Decomposition based on features means the application component should be based on its business features.\nFor example we have an e-commerce application, we can divide it into several components: authentication, product, checkout, history and analytics.")]),a("li",[this._v("Decomposition based on functions means the application component should be based on its functions.\nFor example we can just divide an application into "),a("em",[this._v("core")]),this._v(" (which have generic function without UI) and "),a("em",[this._v("ui")]),this._v(" (which have UI that implements core component).")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"case-study"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#case-study","aria-hidden":"true"}},[this._v("#")]),this._v(" Case Study")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"authentication-module"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#authentication-module","aria-hidden":"true"}},[this._v("#")]),this._v(" Authentication Module")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",[e("li",[t._v("Start login page → "),e("code",[t._v("Auth.startLoginPage(ACTIVITY, LOGIN_RESULT_LISTENER)")])]),e("li",[t._v("Start register page → "),e("code",[t._v("Auth.startRegisterPage(ACTIVITY)")])]),e("li",[t._v("Start forgot password page → "),e("code",[t._v("Auth.startForgotPasswordPage(ACTIVITY)")])]),e("li",[t._v("Check if user has logged in → "),e("code",[t._v("(Boolean) = Auth.isLoggedIn()")])]),e("li",[t._v("Get authentication user data → "),e("code",[t._v("(UserID, Access Token, etc. ) = Auth.getAuthenticatedUser()")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("What is "),a("code",[this._v("LOGIN_RESULT_LISTENER")]),this._v(" ? It’s a defined interface which will be triggered when login action is completed.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"product-module"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#product-module","aria-hidden":"true"}},[this._v("#")]),this._v(" Product Module")])},function(){var t=this.$createElement,a=this._self._c||t;return a("ul",[a("li",[this._v("Start product catalog page → "),a("code",[this._v("Prod.startProductCatalog(ACTIVITY, CHECKOUT_ACTION_CALLBACK)")])]),a("li",[this._v("Start product favorites → "),a("code",[this._v("Prod.startProductFavorites(ACTIVITY, CHECKOUT_ACTION_CALLBACK)")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("What is "),a("code",[this._v("CHECKOUT_ACTION_CALLBACK")]),this._v(" ? It’s a defined interface which will be triggered on product buy action on product details page. Because buy action is implemented on checkout module. Product module doesn’t need to know how it’s implemented, so it’s defined as an interface.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"checkout-module"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#checkout-module","aria-hidden":"true"}},[this._v("#")]),this._v(" Checkout Module")])},function(){var t=this.$createElement,a=this._self._c||t;return a("ul",[a("li",[this._v("Add item to cart → "),a("code",[this._v("Checkout.addToCart(ACTIVITY, ITEM_NAME, ITEM_PRICE, PAYMENT_COMPLETED_LISTENER)")])]),a("li",[this._v("Start shopping cart page → "),a("code",[this._v("Checkout.startShoppingCartPage(ACTIVITY)")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("code",[this._v("PAYMENT_COMPLETED_LISTENER")]),this._v(" is a defined interface to be called when payment is completed.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"history-module"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#history-module","aria-hidden":"true"}},[this._v("#")]),this._v(" History Module")])},function(){var t=this.$createElement,a=this._self._c||t;return a("ul",[a("li",[this._v("Show transaction history → "),a("code",[this._v("History.startTransactionHistoryPage(ACTIVITY)")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"analytics-module"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#analytics-module","aria-hidden":"true"}},[this._v("#")]),this._v(" Analytics Module")])},function(){var t=this.$createElement,a=this._self._c||t;return a("ul",[a("li",[this._v("Track event → "),a("code",[this._v("Analytics.trackEvent(EVENT_NAME)")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"application-module"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#application-module","aria-hidden":"true"}},[this._v("#")]),this._v(" Application Module")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"language-kotlin extra-class"},[e("pre",{pre:!0,attrs:{class:"language-kotlin"}},[e("code",[e("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" MainActivity "),e("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" AppCompatActivity "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("fun")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("onCreate")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("savedInstanceState"),e("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" Bundle"),e("span",{attrs:{class:"token operator"}},[t._v("?")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{attrs:{class:"token keyword"}},[t._v("super")]),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("onCreate")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("savedInstanceState"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{attrs:{class:"token function"}},[t._v("checkIfUserIsAlreadyLoggedIn")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{attrs:{class:"token function"}},[t._v("initCheckoutListener")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("fun")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("checkIfUserIsAlreadyLoggedIn")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Auth"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("isLoggedIn")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{attrs:{class:"token comment"}},[t._v("// Start product catalog")]),t._v("\n            "),e("span",{attrs:{class:"token function"}},[t._v("startProductCatalog")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{attrs:{class:"token comment"}},[t._v("// Start login page")]),t._v("\n            Auth"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("startLoginPage")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token keyword"}},[t._v("this")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("object")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" LoginResultListener "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),e("span",{attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("fun")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("onLoginSuccess")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),e("span",{attrs:{class:"token comment"}},[t._v("// Handle login success")]),t._v("\n                    "),e("span",{attrs:{class:"token function"}},[t._v("startProductCatalog")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                \n                "),e("span",{attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("fun")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("onLoginFailure")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),e("span",{attrs:{class:"token comment"}},[t._v("// Handle login failure")]),t._v("\n                "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("            \n            "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("        \n        "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("    \n    "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n    "),e("span",{attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("fun")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("startProductCatalog")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        Prod"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("startProductCatalog")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token keyword"}},[t._v("this")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("object")]),e("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v("ProductActionListener"),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("fun")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("onProductBuyActionClicked")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("product"),e("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" Product"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            Checkout"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("addToCart")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token keyword"}},[t._v("this")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" product"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" product"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("price"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),e("span",{attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("fun")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("onShoppingCartActionClicked")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                Checkout"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("startShoppingCartPage")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token keyword"}},[t._v("this")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),e("span",{attrs:{class:"token keyword"}},[t._v("object")]),e("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v("PaymentCompletedListener"),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),e("span",{attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("fun")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("onPaymentCompleted")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        "),e("span",{attrs:{class:"token comment"}},[t._v("// Handle payment completed")]),t._v("\n                        History"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("startTransactionHistoryPage")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token keyword"}},[t._v("this")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"conclusion"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#conclusion","aria-hidden":"true"}},[this._v("#")]),this._v(" Conclusion")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("Advantages")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("ul",[a("li",[this._v("Good for teams. Each teams has smaller focus. Also because each module can be developed independently, each teams can have different implementation style.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("Disadvantages")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("ul",[a("li",[this._v("Communication between modules is important. There should be a documentation how to use each module.")]),a("li",[this._v("Duplicate code is common → Can be minimized when moved to generic module.")]),a("li",[this._v("Build time is increased because each module needs to be compiled first.")])])}],!1,null,null,null);a.default=n.exports}}]);